piece_settings_tab = 'piece_settings_piece_settings_tab_link'
piece_settings_panel = 'piece_settings'
voices_tab = 'piece_settings_voices_tab_link'
voices_panel = 'voices'
sections_tab = 'piece_settings_sections_tab_link'
sections_panel = 'sections'

include_partial 'clear_session'
include_partial 'set_checkbox_value', :id => 'advanced_options_toggle', :value => true, :ajax => true

verify_visible piece_settings_tab
verify_visible piece_settings_panel
verify_visible voices_tab
verify_not_visible voices_panel
verify_visible sections_tab
verify_not_visible sections_panel

open '/compose'

verify_visible piece_settings_tab
verify_visible piece_settings_panel
verify_visible voices_tab
verify_not_visible voices_panel
verify_visible sections_tab
verify_not_visible sections_panel

# check that it works properly when the user is on an advanced options tag

include_partial 'click_tab', :from_tab => 'piece_settings', :to_tab => 'voices'
include_partial 'set_checkbox_value', :id => 'advanced_options_toggle', :value => false, :ajax => true

verify_visible piece_settings_tab
verify_visible piece_settings_panel
verify_not_visible voices_tab
verify_not_visible voices_panel
verify_not_visible sections_tab
verify_not_visible sections_panel

open '/compose'

verify_visible piece_settings_tab
verify_visible piece_settings_panel
verify_not_visible voices_tab
verify_not_visible voices_panel
verify_not_visible sections_tab
verify_not_visible sections_panel
